this.ckan.module("table-selectable-rows",function(b,a){return{select_all:null,total_checkboxes:0,buttons:null,initialize:function(){b.proxyAll(this,/_on/);this.total_checkboxes=b('input[type="checkbox"]',this.el).length;this.select_all=b('<input type="checkbox">').data("select-all",true).appendTo(b("thead th:first-child",this.el));this.el.on("change",'input[type="checkbox"]',this._onHandleCheckboxToggle);this.buttons=b("th.actions .btn",this.el).addClass("disabled").prop("disabled",true)},_onHandleCheckboxToggle:function(c){var d=b(c.target);if(d.data("select-all")){this.handleSelectAll(d,d.is(":checked"))}else{this.handleSelectOne(d,d.is(":checked"))}},handleSelectAll:function(c,d){b('input[type="checkbox"]',this.el).prop("checked",d);if(d){b("tbody tr",this.el).addClass("table-selected");this.buttons.removeClass("disabled").prop("disabled",false)}else{b("tbody tr",this.el).removeClass("table-selected");this.buttons.addClass("disabled").prop("disabled",true)}},handleSelectOne:function(c,d){if(d){c.parents("tr").addClass("table-selected")}else{c.parents("tr").removeClass("table-selected")}var e=b('tbody input[type="checkbox"]:checked',this.el).length;if(e>=this.total_checkboxes){this.select_all.prop("checked",true)}else{this.select_all.prop("checked",false)}if(e>0){this.buttons.removeClass("disabled").prop("disabled",false)}else{this.buttons.addClass("disabled").prop("disabled",true)}}}});