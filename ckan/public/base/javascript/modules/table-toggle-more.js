this.ckan.module("table-toggle-more",function(b,a){return{options:{i18n:{show_more:a("Show more"),show_less:a("Hide")}},initialize:function(){b.proxyAll(this,/_on/);this.el.addClass("table-toggle-more");var e=b(".toggle-more",this.el).length;if(e){var f=b("thead tr th",this.el).length;var g=['<tr class="toggle-show toggle-show-more">','<td colspan="'+f+'">',"<small>",'<a href="#" class="show-more">'+this.i18n("show_more")+"</a>",'<a href="#" class="show-less">'+this.i18n("show_less")+"</a>","</small>","</td>","</tr>"].join("\n");var c=['<tr class="toggle-seperator">','<td colspan="'+f+'">',"</td>","</tr>"].join("\n");var d=b(c).insertAfter(b(".toggle-more:last-child",this.el));b(g).insertAfter(d);b(".show-more",this.el).on("click",this._onShowMore);b(".show-less",this.el).on("click",this._onShowLess)}},_onShowMore:function(c){c.preventDefault();this.el.removeClass("table-toggle-more").addClass("table-toggle-less")},_onShowLess:function(c){c.preventDefault();this.el.removeClass("table-toggle-less").addClass("table-toggle-more")}}});