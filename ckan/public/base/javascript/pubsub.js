this.ckan=this.ckan||{};(function(c,b){var a={events:b({}),queue:null,publish:function(d){if(a.queue){a.queue.push([].slice.call(arguments))}else{a.events.triggerHandler(d,[].slice.call(arguments,1))}return this},subscribe:function(d,f){if(b.isPlainObject(d)){b.each(d,b.proxy(a.subscribe,this));return this}function e(){return f.apply(this,[].slice.call(arguments,1))}e.guid=f.guid=f.guid||(b.guid+=1);a.events.on(d,e);return this},unsubscribe:function(d,e){a.events.off(d,arguments);return this},enqueue:function(){if(!a.queue){a.queue=[]}return this},dequeue:function(){if(a.queue){var d=a.queue;var e=0;var f=d.length;a.queue=null;for(;e<f;e+=1){a.publish.apply(a,d[e])}}return this}};c.pubsub=a;c.sandbox.extend({publish:a.publish,subscribe:a.subscribe,unsubscribe:a.unsubscribe})})(this.ckan,this.jQuery);