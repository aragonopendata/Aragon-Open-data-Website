(function(j,c){var h=Array.prototype,n=Object.prototype,l=h.slice,d=n.hasOwnProperty,f=h.forEach,e={};var m={forEach:function(t,s,r){var q,o,p;if(t===null){return}if(f&&t.forEach===f){t.forEach(s,r)}else{if(t.length===+t.length){for(q=0,o=t.length;q<o;q++){if(q in t&&s.call(r,t[q],q,t)===e){return}}}else{for(p in t){if(d.call(t,p)){if(s.call(r,t[p],p,t)===e){return}}}}}},extend:function(o){this.forEach(l.call(arguments,1),function(p){for(var q in p){o[q]=p[q]}});return o}};var g=function(o){this.defaults={locale_data:{messages:{"":{domain:"messages",lang:"en",plural_forms:"nplurals=2; plural=(n != 1);"}}},domain:"messages"};this.options=m.extend({},this.defaults,o);this.textdomain(this.options.domain);if(o.domain&&!this.options.locale_data[this.options.domain]){throw new Error("Text domain set to non-existent domain: `"+domain+"`")}};g.context_delimiter=String.fromCharCode(4);function a(o){return g.PF.compile(o||"nplurals=2; plural=(n != 1);")}function k(o,p){this._key=o;this._i18n=p}m.extend(k.prototype,{onDomain:function(o){this._domain=o;return this},withContext:function(o){this._context=o;return this},ifPlural:function(o,p){this._val=o;this._pkey=p;return this},fetch:function(o){if({}.toString.call(o)!="[object Array]"){o=[].slice.call(arguments)}return(o&&o.length?g.sprintf:function(p){return p})(this._i18n.dcnpgettext(this._domain,this._context,this._key,this._pkey,this._val),o)}});m.extend(g.prototype,{translate:function(o){return new k(o,this)},textdomain:function(o){if(!o){return this._textdomain}this._textdomain=o},gettext:function(o){return this.dcnpgettext.call(this,c,c,o)},dgettext:function(p,o){return this.dcnpgettext.call(this,p,c,o)},dcgettext:function(p,o){return this.dcnpgettext.call(this,p,c,o)},ngettext:function(o,q,p){return this.dcnpgettext.call(this,c,c,o,q,p)},dngettext:function(p,o,r,q){return this.dcnpgettext.call(this,p,c,o,r,q)},dcngettext:function(p,o,r,q){return this.dcnpgettext.call(this,p,c,o,r,q)},pgettext:function(p,o){return this.dcnpgettext.call(this,c,p,o)},dpgettext:function(q,p,o){return this.dcnpgettext.call(this,q,p,o)},dcpgettext:function(q,p,o){return this.dcnpgettext.call(this,q,p,o)},npgettext:function(p,o,r,q){return this.dcnpgettext.call(this,c,p,o,r,q)},dnpgettext:function(q,p,o,s,r){return this.dcnpgettext.call(this,q,p,o,s,r)},dcnpgettext:function(u,p,z,o,q){o=o||z;u=u||this._textdomain;q=typeof q=="undefined"?1:q;var w;if(!this.options){w=new g();return w.dcnpgettext.call(w,undefined,undefined,z,o,q)}if(!this.options.locale_data){throw new Error("No locale data provided.")}if(!this.options.locale_data[u]){throw new Error("Domain `"+u+"` was not found.")}if(!this.options.locale_data[u][""]){throw new Error("No locale meta information provided.")}if(!z){throw new Error("No translation key found.")}if(typeof q!="number"){try{q=parseInt(q,10)}catch(x){throw new Error("Error parsing the value.")}if(isNaN(q)){throw new Error("The number that was passed in is not a number.")}}var A=p?p+g.context_delimiter+z:z,t=this.options.locale_data,s=t[u],r=this.defaults.locale_data.messages[""].plural_forms,v=a(s[""].plural_forms)(q)+1,B,y;if(!s){throw new Error("No domain named `"+u+"` could be found.")}B=s[A];if(!B||v>=B.length){y=[null,z,o];return y[a()(q)+1]}y=B[v];if(!y){y=[null,z,o];return y[a()(q)+1]}return y}});var i=(function(){function o(r){return Object.prototype.toString.call(r).slice(8,-1).toLowerCase()}function p(s,t){for(var r=[];t>0;r[--t]=s){}return r.join("")}var q=function(){if(!q.cache.hasOwnProperty(arguments[0])){q.cache[arguments[0]]=q.parse(arguments[0])}return q.format.call(null,q.cache[arguments[0]],arguments)};q.format=function(y,x){var C=1,A=y.length,u="",D,r=[],v,t,w,s,z,B;for(v=0;v<A;v++){u=o(y[v]);if(u==="string"){r.push(y[v])}else{if(u==="array"){w=y[v];if(w[2]){D=x[C];for(t=0;t<w[2].length;t++){if(!D.hasOwnProperty(w[2][t])){throw (i('[sprintf] property "%s" does not exist',w[2][t]))}D=D[w[2][t]]}}else{if(w[1]){D=x[w[1]]}else{D=x[C++]}}if(/[^s]/.test(w[8])&&(o(D)!="number")){throw (i("[sprintf] expecting number but found %s",o(D)))}if(typeof D=="undefined"||D===null){D=""}switch(w[8]){case"b":D=D.toString(2);break;case"c":D=String.fromCharCode(D);break;case"d":D=parseInt(D,10);break;case"e":D=w[7]?D.toExponential(w[7]):D.toExponential();break;case"f":D=w[7]?parseFloat(D).toFixed(w[7]):parseFloat(D);break;case"o":D=D.toString(8);break;case"s":D=((D=String(D))&&w[7]?D.substring(0,w[7]):D);break;case"u":D=Math.abs(D);break;case"x":D=D.toString(16);break;case"X":D=D.toString(16).toUpperCase();break}D=(/[def]/.test(w[8])&&w[3]&&D>=0?"+"+D:D);z=w[4]?w[4]=="0"?"0":w[4].charAt(1):" ";B=w[6]-String(D).length;s=w[6]?p(z,B):"";r.push(w[5]?D+s:s+D)}}}return r.join("")};q.cache={};q.parse=function(r){var u=r,v=[],x=[],w=0;while(u){if((v=/^[^\x25]+/.exec(u))!==null){x.push(v[0])}else{if((v=/^\x25{2}/.exec(u))!==null){x.push("%")}else{if((v=/^\x25(?:([1-9]\d*)\$|\(([^\)]+)\))?(\+)?(0|'[^$])?(-)?(\d+)?(?:\.(\d+))?([b-fosuxX])/.exec(u))!==null){if(v[2]){w|=1;var y=[],t=v[2],s=[];if((s=/^([a-z_][a-z_\d]*)/i.exec(t))!==null){y.push(s[1]);while((t=t.substring(s[0].length))!==""){if((s=/^\.([a-z_][a-z_\d]*)/i.exec(t))!==null){y.push(s[1])}else{if((s=/^\[(\d+)\]/.exec(t))!==null){y.push(s[1])}else{throw ("[sprintf] huh?")}}}}else{throw ("[sprintf] huh?")}v[2]=y}else{w|=2}if(w===3){throw ("[sprintf] mixing positional and named placeholders is not (yet) supported")}x.push(v)}else{throw ("[sprintf] huh?")}}}u=u.substring(v[0].length)}return x};return q})();var b=function(p,o){o.unshift(p);return i.apply(null,o)};g.parse_plural=function(o,p){o=o.replace(/n/g,p);return g.parse_expression(o)};g.sprintf=function(o,p){if({}.toString.call(p)=="[object Array]"){return b(o,[].slice.call(p))}return i.apply(this,[].slice.call(arguments))};g.prototype.sprintf=function(){return g.sprintf.apply(this,arguments)};g.PF={};g.PF.parse=function(q){var o=g.PF.extractPluralExpr(q);return g.PF.parser.parse.call(g.PF.parser,o)};g.PF.compile=function(r){function q(p){return(p===true?1:p?p:0)}var o=g.PF.parse(r);return function(p){return q(g.PF.interpreter(o)(p))}};g.PF.interpreter=function(o){return function(q){var p;switch(o.type){case"GROUP":return g.PF.interpreter(o.expr)(q);case"TERNARY":if(g.PF.interpreter(o.expr)(q)){return g.PF.interpreter(o.truthy)(q)}return g.PF.interpreter(o.falsey)(q);case"OR":return g.PF.interpreter(o.left)(q)||g.PF.interpreter(o.right)(q);case"AND":return g.PF.interpreter(o.left)(q)&&g.PF.interpreter(o.right)(q);case"LT":return g.PF.interpreter(o.left)(q)<g.PF.interpreter(o.right)(q);case"GT":return g.PF.interpreter(o.left)(q)>g.PF.interpreter(o.right)(q);case"LTE":return g.PF.interpreter(o.left)(q)<=g.PF.interpreter(o.right)(q);case"GTE":return g.PF.interpreter(o.left)(q)>=g.PF.interpreter(o.right)(q);case"EQ":return g.PF.interpreter(o.left)(q)==g.PF.interpreter(o.right)(q);case"NEQ":return g.PF.interpreter(o.left)(q)!=g.PF.interpreter(o.right)(q);case"MOD":return g.PF.interpreter(o.left)(q)%g.PF.interpreter(o.right)(q);case"VAR":return q;case"NUM":return o.val;default:throw new Error("Invalid Token found.")}}};g.PF.extractPluralExpr=function(t){t=t.replace(/^\s\s*/,"").replace(/\s\s*$/,"");if(!/;\s*$/.test(t)){t=t.concat(";")}var o=/nplurals\=(\d+);/,s=/plural\=(.*);/,u=t.match(o),q={},r;if(u.length>1){q.nplurals=u[1]}else{throw new Error("nplurals not found in plural_forms string: "+t)}t=t.replace(o,"");r=t.match(s);if(!(r&&r.length>1)){throw new Error("`plural` expression not found: "+t)}return r[1]};g.PF.parser=(function(){var t={trace:function q(){},yy:{},symbols_:{error:2,expressions:3,e:4,EOF:5,"?":6,":":7,"||":8,"&&":9,"<":10,"<=":11,">":12,">=":13,"!=":14,"==":15,"%":16,"(":17,")":18,n:19,NUMBER:20,"$accept":0,"$end":1},terminals_:{2:"error",5:"EOF",6:"?",7:":",8:"||",9:"&&",10:"<",11:"<=",12:">",13:">=",14:"!=",15:"==",16:"%",17:"(",18:")",19:"n",20:"NUMBER"},productions_:[0,[3,2],[4,5],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,3],[4,1],[4,1]],performAction:function p(u,x,y,B,A,w,z){var v=w.length-1;switch(A){case 1:return{type:"GROUP",expr:w[v-1]};break;case 2:this.$={type:"TERNARY",expr:w[v-4],truthy:w[v-2],falsey:w[v]};break;case 3:this.$={type:"OR",left:w[v-2],right:w[v]};break;case 4:this.$={type:"AND",left:w[v-2],right:w[v]};break;case 5:this.$={type:"LT",left:w[v-2],right:w[v]};break;case 6:this.$={type:"LTE",left:w[v-2],right:w[v]};break;case 7:this.$={type:"GT",left:w[v-2],right:w[v]};break;case 8:this.$={type:"GTE",left:w[v-2],right:w[v]};break;case 9:this.$={type:"NEQ",left:w[v-2],right:w[v]};break;case 10:this.$={type:"EQ",left:w[v-2],right:w[v]};break;case 11:this.$={type:"MOD",left:w[v-2],right:w[v]};break;case 12:this.$={type:"GROUP",expr:w[v-1]};break;case 13:this.$={type:"VAR"};break;case 14:this.$={type:"NUM",val:Number(u)};break}},table:[{3:1,4:2,17:[1,3],19:[1,4],20:[1,5]},{1:[3]},{5:[1,6],6:[1,7],8:[1,8],9:[1,9],10:[1,10],11:[1,11],12:[1,12],13:[1,13],14:[1,14],15:[1,15],16:[1,16]},{4:17,17:[1,3],19:[1,4],20:[1,5]},{5:[2,13],6:[2,13],7:[2,13],8:[2,13],9:[2,13],10:[2,13],11:[2,13],12:[2,13],13:[2,13],14:[2,13],15:[2,13],16:[2,13],18:[2,13]},{5:[2,14],6:[2,14],7:[2,14],8:[2,14],9:[2,14],10:[2,14],11:[2,14],12:[2,14],13:[2,14],14:[2,14],15:[2,14],16:[2,14],18:[2,14]},{1:[2,1]},{4:18,17:[1,3],19:[1,4],20:[1,5]},{4:19,17:[1,3],19:[1,4],20:[1,5]},{4:20,17:[1,3],19:[1,4],20:[1,5]},{4:21,17:[1,3],19:[1,4],20:[1,5]},{4:22,17:[1,3],19:[1,4],20:[1,5]},{4:23,17:[1,3],19:[1,4],20:[1,5]},{4:24,17:[1,3],19:[1,4],20:[1,5]},{4:25,17:[1,3],19:[1,4],20:[1,5]},{4:26,17:[1,3],19:[1,4],20:[1,5]},{4:27,17:[1,3],19:[1,4],20:[1,5]},{6:[1,7],8:[1,8],9:[1,9],10:[1,10],11:[1,11],12:[1,12],13:[1,13],14:[1,14],15:[1,15],16:[1,16],18:[1,28]},{6:[1,7],7:[1,29],8:[1,8],9:[1,9],10:[1,10],11:[1,11],12:[1,12],13:[1,13],14:[1,14],15:[1,15],16:[1,16]},{5:[2,3],6:[2,3],7:[2,3],8:[2,3],9:[1,9],10:[1,10],11:[1,11],12:[1,12],13:[1,13],14:[1,14],15:[1,15],16:[1,16],18:[2,3]},{5:[2,4],6:[2,4],7:[2,4],8:[2,4],9:[2,4],10:[1,10],11:[1,11],12:[1,12],13:[1,13],14:[1,14],15:[1,15],16:[1,16],18:[2,4]},{5:[2,5],6:[2,5],7:[2,5],8:[2,5],9:[2,5],10:[2,5],11:[2,5],12:[2,5],13:[2,5],14:[2,5],15:[2,5],16:[1,16],18:[2,5]},{5:[2,6],6:[2,6],7:[2,6],8:[2,6],9:[2,6],10:[2,6],11:[2,6],12:[2,6],13:[2,6],14:[2,6],15:[2,6],16:[1,16],18:[2,6]},{5:[2,7],6:[2,7],7:[2,7],8:[2,7],9:[2,7],10:[2,7],11:[2,7],12:[2,7],13:[2,7],14:[2,7],15:[2,7],16:[1,16],18:[2,7]},{5:[2,8],6:[2,8],7:[2,8],8:[2,8],9:[2,8],10:[2,8],11:[2,8],12:[2,8],13:[2,8],14:[2,8],15:[2,8],16:[1,16],18:[2,8]},{5:[2,9],6:[2,9],7:[2,9],8:[2,9],9:[2,9],10:[2,9],11:[2,9],12:[2,9],13:[2,9],14:[2,9],15:[2,9],16:[1,16],18:[2,9]},{5:[2,10],6:[2,10],7:[2,10],8:[2,10],9:[2,10],10:[2,10],11:[2,10],12:[2,10],13:[2,10],14:[2,10],15:[2,10],16:[1,16],18:[2,10]},{5:[2,11],6:[2,11],7:[2,11],8:[2,11],9:[2,11],10:[2,11],11:[2,11],12:[2,11],13:[2,11],14:[2,11],15:[2,11],16:[2,11],18:[2,11]},{5:[2,12],6:[2,12],7:[2,12],8:[2,12],9:[2,12],10:[2,12],11:[2,12],12:[2,12],13:[2,12],14:[2,12],15:[2,12],16:[2,12],18:[2,12]},{4:30,17:[1,3],19:[1,4],20:[1,5]},{5:[2,2],6:[1,7],7:[2,2],8:[1,8],9:[1,9],10:[1,10],11:[1,11],12:[1,12],13:[1,13],14:[1,14],15:[1,15],16:[1,16],18:[2,2]}],defaultActions:{6:[2,1]},parseError:function r(v,u){throw new Error(v)},parse:function s(C){var J=this,z=[0],S=[null],E=[],T=this.table,v="",D=0,Q=0,x=0,B=2,G=1;this.lexer.setInput(C);this.lexer.yy=this.yy;this.yy.lexer=this.lexer;if(typeof this.lexer.yylloc=="undefined"){this.lexer.yylloc={}}var w=this.lexer.yylloc;E.push(w);if(typeof this.yy.parseError==="function"){this.parseError=this.yy.parseError}function I(V){z.length=z.length-2*V;S.length=S.length-V;E.length=E.length-V}function H(){var V;V=J.lexer.lex()||1;if(typeof V!=="number"){V=J.symbols_[V]||V}return V}var P,L,y,O,U,F,N={},K,R,u,A;while(true){y=z[z.length-1];if(this.defaultActions[y]){O=this.defaultActions[y]}else{if(P==null){P=H()}O=T[y]&&T[y][P]}_handle_error:if(typeof O==="undefined"||!O.length||!O[0]){if(!x){A=[];for(K in T[y]){if(this.terminals_[K]&&K>2){A.push("'"+this.terminals_[K]+"'")}}var M="";if(this.lexer.showPosition){M="Parse error on line "+(D+1)+":\n"+this.lexer.showPosition()+"\nExpecting "+A.join(", ")+", got '"+this.terminals_[P]+"'"}else{M="Parse error on line "+(D+1)+": Unexpected "+(P==1?"end of input":("'"+(this.terminals_[P]||P)+"'"))}this.parseError(M,{text:this.lexer.match,token:this.terminals_[P]||P,line:this.lexer.yylineno,loc:w,expected:A})}if(x==3){if(P==G){throw new Error(M||"Parsing halted.")}Q=this.lexer.yyleng;v=this.lexer.yytext;D=this.lexer.yylineno;w=this.lexer.yylloc;P=H()}while(1){if((B.toString()) in T[y]){break}if(y==0){throw new Error(M||"Parsing halted.")}I(1);y=z[z.length-1]}L=P;P=B;y=z[z.length-1];O=T[y]&&T[y][B];x=3}if(O[0] instanceof Array&&O.length>1){throw new Error("Parse Error: multiple actions possible at state: "+y+", token: "+P)}switch(O[0]){case 1:z.push(P);S.push(this.lexer.yytext);E.push(this.lexer.yylloc);z.push(O[1]);P=null;if(!L){Q=this.lexer.yyleng;v=this.lexer.yytext;D=this.lexer.yylineno;w=this.lexer.yylloc;if(x>0){x--}}else{P=L;L=null}break;case 2:R=this.productions_[O[1]][1];N.$=S[S.length-R];N._$={first_line:E[E.length-(R||1)].first_line,last_line:E[E.length-1].last_line,first_column:E[E.length-(R||1)].first_column,last_column:E[E.length-1].last_column};F=this.performAction.call(N,v,Q,D,this.yy,O[1],S,E);if(typeof F!=="undefined"){return F}if(R){z=z.slice(0,-1*R*2);S=S.slice(0,-1*R);E=E.slice(0,-1*R)}z.push(this.productions_[O[1]][0]);S.push(N.$);E.push(N._$);u=T[z[z.length-2]][z[z.length-1]];z.push(u);break;case 3:return true}}return true}};var o=(function(){var x=({EOF:1,parseError:function z(C,B){if(this.yy.parseError){this.yy.parseError(C,B)}else{throw new Error(C)}},setInput:function(B){this._input=B;this._more=this._less=this.done=false;this.yylineno=this.yyleng=0;this.yytext=this.matched=this.match="";this.conditionStack=["INITIAL"];this.yylloc={first_line:1,first_column:0,last_line:1,last_column:0};return this},input:function(){var C=this._input[0];this.yytext+=C;this.yyleng++;this.match+=C;this.matched+=C;var B=C.match(/\n/);if(B){this.yylineno++}this._input=this._input.slice(1);return C},unput:function(B){this._input=B+this._input;return this},more:function(){this._more=true;return this},pastInput:function(){var B=this.matched.substr(0,this.matched.length-this.match.length);return(B.length>20?"...":"")+B.substr(-20).replace(/\n/g,"")},upcomingInput:function(){var B=this.match;if(B.length<20){B+=this._input.substr(0,20-B.length)}return(B.substr(0,20)+(B.length>20?"...":"")).replace(/\n/g,"")},showPosition:function(){var B=this.pastInput();var C=new Array(B.length+1).join("-");return B+this.upcomingInput()+"\n"+C+"^"},next:function(){if(this.done){return this.EOF}if(!this._input){this.done=true}var F,D,C,B;if(!this._more){this.yytext="";this.match=""}var G=this._currentRules();for(var E=0;E<G.length;E++){D=this._input.match(this.rules[G[E]]);if(D){B=D[0].match(/\n.*/g);if(B){this.yylineno+=B.length}this.yylloc={first_line:this.yylloc.last_line,last_line:this.yylineno+1,first_column:this.yylloc.last_column,last_column:B?B[B.length-1].length-1:this.yylloc.last_column+D[0].length};this.yytext+=D[0];this.match+=D[0];this.matches=D;this.yyleng=this.yytext.length;this._more=false;this._input=this._input.slice(D[0].length);this.matched+=D[0];F=this.performAction.call(this,this.yy,this,G[E],this.conditionStack[this.conditionStack.length-1]);if(F){return F}else{return}}}if(this._input===""){return this.EOF}else{this.parseError("Lexical error on line "+(this.yylineno+1)+". Unrecognized text.\n"+this.showPosition(),{text:"",token:null,line:this.yylineno})}},lex:function u(){var B=this.next();if(typeof B!=="undefined"){return B}else{return this.lex()}},begin:function v(B){this.conditionStack.push(B)},popState:function A(){return this.conditionStack.pop()},_currentRules:function y(){return this.conditions[this.conditionStack[this.conditionStack.length-1]].rules},topState:function(){return this.conditionStack[this.conditionStack.length-2]},pushState:function v(B){this.begin(B)}});x.performAction=function w(F,C,E,B){var D=B;switch(E){case 0:break;case 1:return 20;break;case 2:return 19;break;case 3:return 8;break;case 4:return 9;break;case 5:return 6;break;case 6:return 7;break;case 7:return 11;break;case 8:return 13;break;case 9:return 10;break;case 10:return 12;break;case 11:return 14;break;case 12:return 15;break;case 13:return 16;break;case 14:return 17;break;case 15:return 18;break;case 16:return 5;break;case 17:return"INVALID";break}};x.rules=[/^\s+/,/^[0-9]+(\.[0-9]+)?\b/,/^n\b/,/^\|\|/,/^&&/,/^\?/,/^:/,/^<=/,/^>=/,/^</,/^>/,/^!=/,/^==/,/^%/,/^\(/,/^\)/,/^$/,/^./];x.conditions={INITIAL:{rules:[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17],inclusive:true}};return x})();t.lexer=o;return t})();if(typeof exports!=="undefined"){if(typeof module!=="undefined"&&module.exports){exports=module.exports=g}exports.Jed=g}else{if(typeof define==="function"&&define.amd){define("jed",function(){return g})}j.Jed=g}})(this);